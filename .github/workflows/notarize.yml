      # 8. Generate PDF Notarization Report
      - name: Generate PDF Report
        run: |
          python3 - <<'EOF'
import os
from fpdf import FPDF

pdf = FPDF()
pdf.add_page()
pdf.set_font("Arial", 'B', 16)
pdf.cell(0, 10, "SolaraKin Protocol Notarization Report", ln=1, align='C')

pdf.set_font("Arial", '', 12)
pdf.ln(5)
pdf.cell(0, 10, f"Commit SHA: {os.environ.get('GITHUB_SHA')}", ln=1)
pdf.cell(0, 10, f"Branch: master", ln=1)
pdf.ln(5)

pdf.set_font("Arial", 'B', 14)
pdf.cell(0, 10, "Layer Merkle Roots", ln=1)
pdf.set_font("Arial", '', 12)
merkle_dir = ".merkle_layers"
for f in sorted(os.listdir(merkle_dir)):
    if f.endswith(".root"):
        root_hash = open(os.path.join(merkle_dir,f)).read().strip()
        pdf.multi_cell(0, 8, f"{f}: {root_hash}")

pdf.ln(5)
pdf.set_font("Arial", 'B', 14)
pdf.cell(0, 10, "Protocol Root", ln=1)
pdf.set_font("Arial", '', 12)
protocol_root = open(".protocol_root").read().strip()
pdf.multi_cell(0, 8, f"Protocol Root Hash: {protocol_root}")

pdf.ln(5)
pdf.set_font("Arial", 'B', 14)
pdf.cell(0, 10, "OTS Proofs", ln=1)
pdf.set_font("Arial", '', 12)
ots_dir = ".ots_proofs"
for f in sorted(os.listdir(ots_dir)):
    pdf.multi_cell(0, 8, f"{f}")

pdf.output(".report/solarakin_protocol_notarization.pdf")
EOF
